<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="google-signin-client_id" content="382989724031-1koco239agq35vcv7gfj8crr2kth8hin.apps.googleusercontent.com">
    <title>무지예뽀 - Premium Shopping Mall</title>
    
    <!-- Google Sign-In 라이브러리 -->
    <script src="https://accounts.google.com/gsi/client" async defer></script>
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            background-color: #ffffff;
            color: #000000;
            min-height: 100vh;
            padding-bottom: 70px;
        }
        
        /* 스크롤바 스타일링 */
        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }
        
        ::-webkit-scrollbar-track {
            background: #f1f1f1;
        }
        
        ::-webkit-scrollbar-thumb {
            background: #333;
            border-radius: 4px;
        }
        
        ::-webkit-scrollbar-thumb:hover {
            background: #000;
        }
        
        /* 헤더 */
        .header {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            background: #ffffff;
            z-index: 1000;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
            transition: transform 0.3s ease;
        }
        
        .header.scrolled {
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.12);
        }
        
        .top-banner {
            background: #000000;
            color: white;
            text-align: center;
            padding: 8px;
            font-size: 13px;
            font-weight: 500;
            letter-spacing: 0.5px;
        }
        
        .main-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 12px 16px;
            background: #ffffff;
        }
        
        .logo {
            font-size: 24px;
            font-weight: 900;
            color: #000000;
            letter-spacing: -1px;
            cursor: pointer;
        }
        
        .header-icons {
            display: flex;
            gap: 16px;
        }
        
        .icon-btn {
            background: none;
            border: none;
            color: #000;
            cursor: pointer;
            padding: 8px;
            border-radius: 50%;
            transition: all 0.3s;
            position: relative;
        }
        
        .icon-btn:hover {
            background: #f5f5f5;
            transform: scale(1.1);
        }
        
        .icon-btn svg {
            width: 20px;
            height: 20px;
        }
        
        .notification-dot {
            position: absolute;
            top: 6px;
            right: 6px;
            width: 6px;
            height: 6px;
            background: #ff0000;
            border-radius: 50%;
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0% { transform: scale(1); opacity: 1; }
            50% { transform: scale(1.2); opacity: 0.8; }
            100% { transform: scale(1); opacity: 1; }
        }
        
        /* 검색바 */
        .search-bar {
            overflow: hidden;
            transition: max-height 0.3s ease;
            max-height: 0;
            background: #f8f8f8;
        }
        
        .search-bar.show {
            max-height: 80px;
        }
        
        .search-input-container {
            padding: 12px 16px;
            position: relative;
        }
        
        .search-input {
            width: 100%;
            background: #ffffff;
            border-radius: 24px;
            padding: 10px 40px 10px 16px;
            border: 2px solid #000000;
            font-size: 14px;
            outline: none;
            transition: all 0.3s;
        }
        
        .search-input:focus {
            box-shadow: 0 0 0 3px rgba(0, 0, 0, 0.1);
        }
        
        .search-submit {
            position: absolute;
            right: 24px;
            top: 50%;
            transform: translateY(-50%);
            background: none;
            border: none;
            cursor: pointer;
        }
        
        /* 페이지 컨테이너 */
        .page {
            display: none;
            min-height: calc(100vh - 70px);
            padding-top: 94px;
        }
        
        .page.active {
            display: block;
        }
        
        /* 로그인 섹션 추가 */
        .login-section {
            text-align: center;
            padding: 32px 16px;
            background: #f8f8f8;
            border-radius: 12px;
            margin: 16px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.06);
        }
        
        .login-section h2 {
            font-size: 28px;
            font-weight: 900;
            color: #000000;
            margin-bottom: 16px;
            letter-spacing: -1px;
        }
        
        .login-section p {
            color: #666666;
            margin-bottom: 24px;
            font-size: 16px;
        }
        
        .google-login-button {
            display: inline-flex;
            align-items: center;
            gap: 12px;
            background-color: #ffffff;
            border: 2px solid #000000;
            border-radius: 24px;
            padding: 12px 24px;
            font-size: 16px;
            font-weight: 600;
            color: #000000;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
        }
        
        .google-login-button:hover {
            background-color: #000000;
            color: #ffffff;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        }
        
        .google-icon {
            width: 20px;
            height: 20px;
        }
        
        /* 구글 로그인 에러 메시지 스타일 */
        .google-login-error {
            background-color: #fef2f2;
            border: 1px solid #fecaca;
            border-radius: 8px;
            padding: 16px;
            margin-top: 16px;
            color: #991b1b;
            font-size: 14px;
            display: none;
        }
        
        /* 메인 배너 슬라이더 */
        .main-banner {
            height: 350px;
            background: #000000;
            position: relative;
            overflow: hidden;
        }
        
        .banner-container {
            display: flex;
            transition: transform 0.5s ease-in-out;
            height: 100%;
        }
        
        .banner-item {
            width: 100%;
            flex-shrink: 0;
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .banner-content {
            position: relative;
            text-align: center;
            z-index: 2;
            color: #ffffff;
        }
        
        .banner-title {
            font-size: 36px;
            font-weight: 900;
            margin-bottom: 16px;
            animation: fadeInUp 0.8s ease;
        }
        
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .banner-subtitle {
            font-size: 18px;
            color: #cccccc;
            margin-bottom: 24px;
        }
        
        .banner-btn {
            background: #ffffff;
            color: #000000;
            border: none;
            padding: 12px 32px;
            border-radius: 25px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
        }
        
        .banner-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3);
        }
        
        .banner-indicators {
            position: absolute;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 8px;
        }
        
        .indicator {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.5);
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .indicator.active {
            background: #ffffff;
            width: 24px;
            border-radius: 4px;
        }
        
        /* 카테고리 네비게이션 */
        .category-nav {
            background: #f8f8f8;
            padding: 20px 16px;
            position: sticky;
            top: 94px;
            z-index: 100;
            border-bottom: 1px solid #e0e0e0;
        }
        
        .category-grid {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 16px;
            max-width: 600px;
            margin: 0 auto;
        }
        
        .category-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 8px;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .category-icon {
            width: 50px;
            height: 50px;
            background: #ffffff;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s;
            border: 2px solid #f0f0f0;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
        }
        
        .category-item:hover .category-icon {
            background: #000000;
            transform: scale(1.1);
            border-color: #000000;
        }
        
        .category-item:hover .category-icon svg {
            color: #ffffff;
        }
        
        .category-icon svg {
            width: 24px;
            height: 24px;
            color: #333;
            transition: color 0.3s;
        }
        
        .category-name {
            font-size: 12px;
            color: #666;
            transition: color 0.3s;
        }
        
        .category-item:hover .category-name {
            color: #000000;
            font-weight: 500;
        }
        
        /* 서브 카테고리 */
        .sub-categories {
            background: #f0f0f0;
            padding: 12px 16px;
            display: none;
            border-bottom: 1px solid #e0e0e0;
        }
        
        .sub-categories.show {
            display: block;
        }
        
        .sub-category-list {
            display: flex;
            gap: 12px;
            overflow-x: auto;
            padding-bottom: 4px;
        }
        
        .sub-category-list::-webkit-scrollbar {
            height: 0;
        }
        
        .sub-category-btn {
            padding: 6px 16px;
            border-radius: 20px;
            font-size: 14px;
            font-weight: 500;
            transition: all 0.3s;
            white-space: nowrap;
            border: 1px solid #ddd;
            cursor: pointer;
            background: #ffffff;
            color: #666;
        }
        
        .sub-category-btn:hover {
            background: #f0f0f0;
            border-color: #999;
        }
        
        .sub-category-btn.active {
            background: #000000;
            color: #ffffff;
            border-color: #000000;
        }
        
        /* 실시간 랭킹 섹션 */
        .ranking-section {
            padding: 32px 16px;
            background: #ffffff;
        }
        
        .section-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 20px;
        }
        
        .section-title {
            font-size: 20px;
            font-weight: 700;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .live-indicator {
            display: inline-flex;
            align-items: center;
            gap: 4px;
            background: rgba(255, 0, 0, 0.1);
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 12px;
            color: #ff0000;
        }
        
        .live-dot {
            width: 6px;
            height: 6px;
            background: #ff0000;
            border-radius: 50%;
            animation: blink 1s infinite;
        }
        
        @keyframes blink {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.3; }
        }
        
        .view-all {
            color: #666;
            text-decoration: none;
            font-size: 14px;
            transition: color 0.3s;
        }
        
        .view-all:hover {
            color: #000000;
        }
        
        /* 상품 그리드 */
        .product-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 16px;
        }
        
        .product-card {
            background: #ffffff;
            border-radius: 12px;
            overflow: hidden;
            transition: all 0.3s;
            cursor: pointer;
            border: 1px solid #f0f0f0;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.06);
        }
        
        .product-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.12);
            border-color: #000000;
        }
        
        .product-image-container {
            position: relative;
            aspect-ratio: 1;
            overflow: hidden;
            background: #f8f8f8;
        }
        
        .product-image {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.3s;
        }
        
        .product-card:hover .product-image {
            transform: scale(1.05);
        }
        
        .product-badges {
            position: absolute;
            top: 8px;
            left: 8px;
            display: flex;
            flex-direction: column;
            gap: 4px;
        }
        
        .badge {
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 11px;
            font-weight: 600;
        }
        
        .badge-sale {
            background: #000000;
            color: white;
        }
        
        .badge-new {
            background: #4CAF50;
            color: white;
        }
        
        .wishlist-btn {
            position: absolute;
            top: 8px;
            right: 8px;
            background: rgba(255, 255, 255, 0.9);
            border: 1px solid #e0e0e0;
            width: 32px;
            height: 32px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .wishlist-btn:hover {
            background: #000000;
            transform: scale(1.1);
        }
        
        .wishlist-btn:hover svg {
            color: #ffffff;
        }
        
        .wishlist-btn svg {
            width: 16px;
            height: 16px;
            color: #333;
        }
        
        .wishlist-btn.active {
            background: #000000;
        }
        
        .wishlist-btn.active svg {
            fill: #ffffff;
            color: #ffffff;
        }
        
        .product-info {
            padding: 12px;
        }
        
        .product-brand {
            font-size: 12px;
            color: #666;
            margin-bottom: 4px;
        }
        
        .product-name {
            font-size: 14px;
            font-weight: 500;
            margin-bottom: 8px;
            line-height: 1.4;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }
        
        .product-price {
            display: flex;
            align-items: baseline;
            gap: 8px;
            margin-bottom: 8px;
        }
        
        .discount-rate {
            color: #000000;
            font-weight: 700;
            font-size: 16px;
        }
        
        .price {
            font-size: 16px;
            font-weight: 700;
        }
        
        .original-price {
            font-size: 13px;
            color: #999;
            text-decoration: line-through;
        }
        
        .product-stats {
            display: flex;
            align-items: center;
            gap: 12px;
            font-size: 12px;
            color: #666;
        }
        
        .stat-item {
            display: flex;
            align-items: center;
            gap: 4px;
        }
        
        .rating {
            color: #ffd700;
        }
        
        /* 맨 위로 가기 버튼 추가 */
        .scroll-to-top {
            position: fixed;
            bottom: 90px;
            right: 20px;
            width: 48px;
            height: 48px;
            background: #000000;
            color: #ffffff;
            border: none;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
            transition: all 0.3s;
            opacity: 0;
            visibility: hidden;
            z-index: 999;
        }
        
        .scroll-to-top.show {
            opacity: 1;
            visibility: visible;
        }
        
        .scroll-to-top:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 16px rgba(0, 0, 0, 0.2);
        }
        
        .scroll-to-top svg {
            width: 24px;
            height: 24px;
        }
        
        /* 검색 페이지 */
        .search-page {
            padding: 16px;
        }
        
        .search-page-input {
            width: 100%;
            background: #ffffff;
            border: 2px solid #000000;
            border-radius: 24px;
            padding: 12px 48px 12px 16px;
            font-size: 16px;
            outline: none;
            margin-bottom: 24px;
        }
        
        .search-page-input:focus {
            box-shadow: 0 0 0 3px rgba(0, 0, 0, 0.1);
        }
        
        .popular-keywords {
            margin-bottom: 32px;
        }
        
        .popular-keywords h3 {
            font-weight: 700;
            margin-bottom: 12px;
            color: #000000;
        }
        
        .keyword-buttons {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
        }
        
        .keyword-btn {
            background: #ffffff;
            border: 1px solid #000000;
            border-radius: 20px;
            padding: 8px 16px;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: 500;
        }
        
        .keyword-btn:hover {
            background: #000000;
            color: #ffffff;
        }
        
        .search-results-section {
            margin-top: 24px;
        }
        
        .search-loading {
            text-align: center;
            padding: 40px 0;
        }
        
        .no-results {
            text-align: center;
            padding: 40px 0;
            color: #666;
        }
        
        /* 카테고리 페이지 */
        .category-page {
            padding: 16px;
        }
        
        .category-section {
            background: #f8f8f8;
            border-radius: 12px;
            padding: 16px;
            margin-bottom: 16px;
        }
        
        .category-section h3 {
            font-weight: 700;
            font-size: 18px;
            margin-bottom: 12px;
            color: #000000;
        }
        
        .category-sub-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 8px;
        }
        
        .category-sub-item {
            background: #ffffff;
            border: 1px solid #e0e0e0;
            border-radius: 8px;
            padding: 8px 12px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 14px;
        }
        
        .category-sub-item:hover {
            background: #000000;
            color: #ffffff;
            border-color: #000000;
        }
        
        /* 찜 페이지 */
        .wishlist-page {
            padding: 16px;
        }
        
        .empty-state {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 80px 0;
        }
        
        .empty-icon {
            width: 64px;
            height: 64px;
            color: #ddd;
            margin-bottom: 16px;
        }
        
        .empty-text {
            color: #666;
            margin-bottom: 16px;
        }
        
        .primary-btn {
            background: #000000;
            color: #ffffff;
            padding: 12px 24px;
            border-radius: 24px;
            border: none;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.3s;
        }
        
        .primary-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
        }
        
        /* 마이페이지 */
        .mypage {
            padding: 16px;
        }
        
        .profile-card {
            background: #f8f8f8;
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 24px;
            text-align: center;
        }
        
        .profile-avatar {
            width: 80px;
            height: 80px;
            background: #000000;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 16px;
            font-size: 32px;
            color: #ffffff;
            overflow: hidden;
        }
        
        .profile-avatar img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .profile-name {
            font-weight: 700;
            font-size: 18px;
            margin-bottom: 4px;
        }
        
        .profile-email {
            color: #666;
            font-size: 14px;
        }
        
        .menu-list {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }
        
        .menu-btn {
            width: 100%;
            background: #ffffff;
            border: 1px solid #e0e0e0;
            border-radius: 12px;
            padding: 16px;
            text-align: left;
            display: flex;
            justify-content: space-between;
            align-items: center;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .menu-btn:hover {
            background: #f8f8f8;
            border-color: #000000;
        }
        
        .menu-btn.logout {
            border-color: #ff0000;
            color: #ff0000;
        }
        
        .menu-btn.logout:hover {
            background: #fff5f5;
        }
        
        /* 알림 페이지 */
        .notifications-page {
            padding: 16px;
        }
        
        .notification-item {
            background: #ffffff;
            border: 1px solid #e0e0e0;
            border-radius: 12px;
            padding: 16px;
            margin-bottom: 12px;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .notification-item.unread {
            background: #f8f8f8;
            border-color: #000000;
        }
        
        .notification-item:hover {
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }
        
        .notification-title {
            font-weight: 600;
            margin-bottom: 4px;
        }
        
        .notification-content {
            color: #666;
            font-size: 14px;
            margin-bottom: 4px;
        }
        
        .notification-date {
            color: #999;
            font-size: 12px;
        }
        
        /* 장바구니 페이지 */
        .cart-page {
            padding: 16px;
        }
        
        /* 모달 */
        .modal {
            position: fixed;
            inset: 0;
            background: rgba(0, 0, 0, 0.5);
            z-index: 2000;
            display: none;
            align-items: center;
            justify-content: center;
        }
        
        .modal.show {
            display: flex;
        }
        
        .modal-content {
            background: #ffffff;
            width: 90%;
            max-width: 500px;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.2);
        }
        
        .modal-header {
            background: #000000;
            color: #ffffff;
            padding: 16px;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }
        
        .modal-close {
            background: none;
            border: none;
            color: #ffffff;
            cursor: pointer;
            padding: 4px;
        }
        
        .modal-body {
            padding: 20px;
        }
        
        /* 하단 네비게이션 */
        .bottom-nav {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: #ffffff;
            border-top: 1px solid #e0e0e0;
            padding: 8px 0;
            z-index: 1000;
            box-shadow: 0 -2px 8px rgba(0, 0, 0, 0.08);
        }
        
        .nav-grid {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
        }
        
        .nav-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 4px;
            padding: 8px;
            cursor: pointer;
            transition: all 0.3s;
            border: none;
            background: none;
            color: #999;
        }
        
        .nav-item:hover {
            color: #666;
        }
        
        .nav-item.active {
            color: #000000;
        }
        
        .nav-item svg {
            width: 20px;
            height: 20px;
        }
        
        .nav-label {
            font-size: 11px;
            font-weight: 500;
        }
        
        /* 로딩 애니메이션 */
        .loading {
            display: flex;
            justify-content: center;
            padding: 32px;
        }
        
        .spinner {
            width: 40px;
            height: 40px;
            border: 3px solid #f0f0f0;
            border-top-color: #000000;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        
        /* 토스트 메시지 */
        .toast {
            position: fixed;
            bottom: 100px;
            left: 50%;
            transform: translateX(-50%) translateY(100px);
            background: #000000;
            color: #ffffff;
            padding: 12px 24px;
            border-radius: 24px;
            font-size: 14px;
            opacity: 0;
            transition: all 0.3s;
            z-index: 3000;
        }
        
        .toast.show {
            opacity: 1;
            transform: translateX(-50%) translateY(0);
        }
        
        /* 주문 내역 페이지 */
        .order-history-page {
            padding: 16px;
        }
        
        .order-item {
            background: #ffffff;
            border: 1px solid #e0e0e0;
            border-radius: 12px;
            padding: 16px;
            margin-bottom: 12px;
        }
        
        .order-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 12px;
        }
        
        .order-number {
            font-weight: 600;
            font-size: 14px;
        }
        
        .order-date {
            color: #666;
            font-size: 12px;
        }
        
        .order-status {
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 500;
        }
        
        .order-status.delivered {
            background: #e8f5e9;
            color: #2e7d32;
        }
        
        .order-status.shipping {
            background: #e3f2fd;
            color: #1976d2;
        }
        
        .order-status.preparing {
            background: #fff3e0;
            color: #f57c00;
        }
        
        .order-products {
            border-top: 1px solid #f0f0f0;
            padding-top: 12px;
        }
        
        .order-product {
            display: flex;
            gap: 12px;
            margin-bottom: 12px;
        }
        
        .order-product-image {
            width: 60px;
            height: 60px;
            border-radius: 8px;
            object-fit: cover;
            background: #f8f8f8;
        }
        
        .order-product-info {
            flex: 1;
        }
        
        .order-product-name {
            font-size: 14px;
            margin-bottom: 4px;
        }
        
        .order-product-price {
            font-weight: 600;
        }
        
        /* 쿠폰함 페이지 */
        .coupon-page {
            padding: 16px;
        }
        
        .coupon-item {
            background: #ffffff;
            border: 2px dashed #000000;
            border-radius: 12px;
            padding: 16px;
            margin-bottom: 12px;
            position: relative;
            overflow: hidden;
        }
        
        .coupon-item.expired {
            opacity: 0.6;
            border-color: #ddd;
        }
        
        .coupon-amount {
            font-size: 24px;
            font-weight: 900;
            color: #000000;
            margin-bottom: 4px;
        }
        
        .coupon-item.expired .coupon-amount {
            color: #999;
        }
        
        .coupon-title {
            font-weight: 600;
            margin-bottom: 4px;
        }
        
        .coupon-expiry {
            font-size: 12px;
            color: #666;
        }
        
        .coupon-badge {
            position: absolute;
            top: 12px;
            right: 12px;
            padding: 4px 12px;
            background: #000000;
            color: #ffffff;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 500;
        }
        
        .coupon-item.expired .coupon-badge {
            background: #999;
        }
        
        /* 포인트 페이지 */
        .point-page {
            padding: 16px;
        }
        
        .point-summary {
            background: linear-gradient(135deg, #000000 0%, #333333 100%);
            color: #ffffff;
            border-radius: 12px;
            padding: 24px;
            margin-bottom: 24px;
            text-align: center;
        }
        
        .point-label {
            font-size: 14px;
            opacity: 0.8;
            margin-bottom: 8px;
        }
        
        .point-amount {
            font-size: 36px;
            font-weight: 900;
            margin-bottom: 16px;
        }
        
        .point-buttons {
            display: flex;
            gap: 12px;
        }
        
        .point-btn {
            flex: 1;
            background: rgba(255, 255, 255, 0.2);
            border: 1px solid rgba(255, 255, 255, 0.3);
            color: #ffffff;
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .point-btn:hover {
            background: rgba(255, 255, 255, 0.3);
        }
        
        .point-history {
            background: #ffffff;
            border-radius: 12px;
            overflow: hidden;
        }
        
        .point-history-header {
            background: #f8f8f8;
            padding: 12px 16px;
            font-weight: 600;
            border-bottom: 1px solid #e0e0e0;
        }
        
        .point-history-item {
            padding: 16px;
            border-bottom: 1px solid #f0f0f0;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .point-history-item:last-child {
            border-bottom: none;
        }
        
        .point-history-info {
            flex: 1;
        }
        
        .point-history-title {
            font-size: 14px;
            margin-bottom: 4px;
        }
        
        .point-history-date {
            font-size: 12px;
            color: #666;
        }
        
        .point-history-amount {
            font-weight: 600;
            font-size: 16px;
        }
        
        .point-history-amount.plus {
            color: #2e7d32;
        }
        
        .point-history-amount.minus {
            color: #d32f2f;
        }
        
        /* 고객센터 페이지 */
        .support-page {
            padding: 16px;
        }
        
        .support-menu {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 12px;
            margin-bottom: 24px;
        }
        
        .support-menu-item {
            background: #ffffff;
            border: 1px solid #e0e0e0;
            border-radius: 12px;
            padding: 20px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .support-menu-item:hover {
            border-color: #000000;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }
        
        .support-menu-icon {
            width: 48px;
            height: 48px;
            margin: 0 auto 12px;
            color: #000000;
        }
        
        .support-menu-title {
            font-weight: 600;
            margin-bottom: 4px;
        }
        
        .support-menu-desc {
            font-size: 12px;
            color: #666;
        }
        
        .faq-section {
            background: #ffffff;
            border-radius: 12px;
            overflow: hidden;
        }
        
        .faq-header {
            background: #f8f8f8;
            padding: 16px;
            font-weight: 600;
            border-bottom: 1px solid #e0e0e0;
        }
        
        .faq-item {
            border-bottom: 1px solid #f0f0f0;
        }
        
        .faq-item:last-child {
            border-bottom: none;
        }
        
        .faq-question {
            padding: 16px;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: background 0.3s;
        }
        
        .faq-question:hover {
            background: #f8f8f8;
        }
        
        .faq-question-text {
            flex: 1;
            font-size: 14px;
        }
        
        .faq-arrow {
            width: 16px;
            height: 16px;
            transition: transform 0.3s;
        }
        
        .faq-item.active .faq-arrow {
            transform: rotate(180deg);
        }
        
        .faq-answer {
            padding: 0 16px;
            max-height: 0;
            overflow: hidden;
            transition: all 0.3s;
        }
        
        .faq-item.active .faq-answer {
            padding: 16px;
            max-height: 500px;
        }
        
        .faq-answer-text {
            font-size: 14px;
            color: #666;
            line-height: 1.6;
        }
        
        /* 숨김 클래스 */
        .hidden {
            display: none !important;
        }
        
        /* 반응형 */
        @media (min-width: 768px) {
            .product-grid {
                grid-template-columns: repeat(3, 1fr);
            }
            
            .category-grid {
                grid-template-columns: repeat(10, 1fr);
                max-width: none;
            }
        }
        
        @media (min-width: 1024px) {
            .product-grid {
                grid-template-columns: repeat(4, 1fr);
                gap: 24px;
            }
            
            .ranking-section {
                padding: 48px 32px;
            }
            
            .main-banner {
                height: 450px;
            }
            
            .banner-title {
                font-size: 48px;
            }
        }
    </style>
</head>
<body>
    <!-- Google One Tap 프롬프트 -->
    <div id="g_id_onload"
         data-client_id="382989724031-1koco239agq35vcv7gfj8crr2kth8hin.apps.googleusercontent.com"
         data-callback="handleCredentialResponse"
         data-auto_prompt="false">
    </div>
    
    <!-- 헤더 -->
    <header class="header" id="header">
        <div class="top-banner">
            🎁 신규 회원 가입시 10,000원 쿠폰 즉시 지급!
        </div>
        <div class="main-header">
            <h1 class="logo" onclick="showPage('home')">무지예뽀</h1>
            <div class="header-icons">
                <button class="icon-btn" onclick="toggleSearch()">
                    <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/>
                    </svg>
                </button>
                <button class="icon-btn" onclick="showPage('notifications')">
                    <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"/>
                    </svg>
                    <span class="notification-dot" id="notificationDot"></span>
                </button>
                <button class="icon-btn" onclick="showPage('cart')">
                    <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"/>
                    </svg>
                </button>
            </div>
        </div>
        
        <!-- 검색바 -->
        <div class="search-bar" id="searchBar">
            <div class="search-input-container">
                <input type="text" class="search-input" id="headerSearchInput" placeholder="✨ 상품명으로 검색" onkeypress="handleHeaderSearchKeyPress(event)">
                <button class="search-submit" onclick="performHeaderSearch()">
                    <svg width="16" height="16" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/>
                    </svg>
                </button>
            </div>
        </div>
    </header>

    <!-- 홈 페이지 -->
    <div class="page active" id="homePage">
        <!-- 로그인 섹션 (로그인 안된 경우에만 표시) -->
        <div class="login-section" id="loginSection" style="display: none;">
            <h2>무지예뽀와 함께하세요!</h2>
            <p>구글 계정으로 간편하게 시작하세요</p>
            <button class="google-login-button" onclick="signInWithGoogle()">
                <svg class="google-icon" viewBox="0 0 24 24">
                    <path fill="#4285F4" d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"/>
                    <path fill="#34A853" d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"/>
                    <path fill="#FBBC05" d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"/>
                    <path fill="#EA4335" d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"/>
                    <path fill="none" d="M1 1h22v22H1z"/>
                </svg>
                구글로 계속하기
            </button>
            <div id="googleLoginError" class="google-login-error"></div>
        </div>

        <!-- 메인 배너 -->
        <div class="main-banner">
            <div class="banner-container" id="bannerContainer">
                <div class="banner-item">
                    <div class="banner-content">
                        <h2 class="banner-title">BLACK WEEK</h2>
                        <p class="banner-subtitle">프리미엄 브랜드 최대 80% 할인</p>
                        <button class="banner-btn" onclick="showToast('BLACK WEEK 페이지로 이동')">지금 쇼핑하기</button>
                    </div>
                </div>
                <div class="banner-item">
                    <div class="banner-content">
                        <h2 class="banner-title">신규 회원 혜택</h2>
                        <p class="banner-subtitle">첫 구매시 20% 추가 할인</p>
                        <button class="banner-btn" onclick="showToast('회원가입 페이지로 이동')">회원가입 하기</button>
                    </div>
                </div>
                <div class="banner-item">
                    <div class="banner-content">
                        <h2 class="banner-title">베스트 상품</h2>
                        <p class="banner-subtitle">이번 주 가장 인기있는 상품</p>
                        <button class="banner-btn" onclick="showToast('베스트 상품 페이지로 이동')">베스트 보기</button>
                    </div>
                </div>
            </div>
            
            <!-- 배너 인디케이터 -->
            <div class="banner-indicators">
                <button class="indicator active" onclick="setBannerIndex(0)"></button>
                <button class="indicator" onclick="setBannerIndex(1)"></button>
                <button class="indicator" onclick="setBannerIndex(2)"></button>
            </div>
        </div>

        <!-- 카테고리 네비게이션 -->
        <nav class="category-nav">
            <div class="category-grid">
                <div class="category-item" onclick="selectCategory('의류')">
                    <div class="category-icon">
                        <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"/>
                        </svg>
                    </div>
                    <span class="category-name">의류</span>
                </div>
                <div class="category-item" onclick="selectCategory('가방')">
                    <div class="category-icon">
                        <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"/>
                        </svg>
                    </div>
                    <span class="category-name">가방</span>
                </div>
                <div class="category-item" onclick="selectCategory('신발')">
                    <div class="category-icon">
                        <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"/>
                        </svg>
                    </div>
                    <span class="category-name">신발</span>
                </div>
                <div class="category-item" onclick="selectCategory('뷰티')">
                    <div class="category-icon">
                        <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"/>
                        </svg>
                    </div>
                    <span class="category-name">뷰티</span>
                </div>
                <div class="category-item" onclick="selectCategory('주얼리')">
                    <div class="category-icon">
                        <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4"/>
                        </svg>
                    </div>
                    <span class="category-name">주얼리</span>
                </div>
            </div>
        </nav>

        <!-- 서브 카테고리 -->
        <div class="sub-categories" id="subCategories">
            <div class="sub-category-list" id="subCategoryList">
                <!-- 동적으로 채워짐 -->
            </div>
        </div>

        <!-- 실시간 랭킹 섹션 -->
        <section class="ranking-section">
            <div class="section-header">
                <h3 class="section-title">
                    🔥 실시간 인기 상품
                    <span class="live-indicator">
                        <span class="live-dot"></span>
                        LIVE
                    </span>
                </h3>
                <a href="#" class="view-all" onclick="showToast('전체보기 페이지로 이동'); return false;">전체보기 →</a>
            </div>
            
            <div class="product-grid" id="productGrid">
                <!-- 동적으로 채워짐 -->
            </div>

            <!-- 로딩 인디케이터 -->
            <div class="loading hidden" id="loading">
                <div class="spinner"></div>
            </div>
        </section>
    </div>

    <!-- 카테고리 페이지 -->
    <div class="page" id="categoryPage">
        <div class="category-page">
            <h2 style="font-size: 24px; font-weight: 700; margin-bottom: 24px;">카테고리</h2>
            <div id="categoryList">
                <!-- 동적으로 채워짐 -->
            </div>
        </div>
    </div>

    <!-- 검색 페이지 -->
    <div class="page" id="searchPage">
        <div class="search-page">
            <div style="position: relative;">
                <input type="text" class="search-page-input" id="searchPageInput" placeholder="상품명을 검색하세요" onkeypress="handleSearchKeyPress(event)">
                <button style="position: absolute; right: 12px; top: 50%; transform: translateY(-50%); background: none; border: none; cursor: pointer;" onclick="performSearch()">
                    <svg width="20" height="20" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/>
                    </svg>
                </button>
            </div>
            
            <div class="popular-keywords">
                <h3>인기 검색어</h3>
                <div class="keyword-buttons">
                    <button class="keyword-btn" onclick="searchByKeyword('원피스')">원피스</button>
                    <button class="keyword-btn" onclick="searchByKeyword('가방')">가방</button>
                    <button class="keyword-btn" onclick="searchByKeyword('스니커즈')">스니커즈</button>
                    <button class="keyword-btn" onclick="searchByKeyword('화장품')">화장품</button>
                    <button class="keyword-btn" onclick="searchByKeyword('시계')">시계</button>
                </div>
            </div>
            
            <div class="search-results-section hidden" id="searchResultsSection">
                <h3 style="font-weight: 700; margin-bottom: 16px;">검색 결과</h3>
                <div id="searchResults">
                    <!-- 검색 결과가 여기에 표시됩니다 -->
                </div>
            </div>
        </div>
    </div>

    <!-- 찜 페이지 -->
    <div class="page" id="wishlistPage">
        <div class="wishlist-page">
            <h2 style="font-size: 24px; font-weight: 700; margin-bottom: 24px;">찜한 상품</h2>
            <div id="wishlistContent">
                <!-- 동적으로 채워짐 -->
            </div>
        </div>
    </div>

    <!-- 마이페이지 -->
    <div class="page" id="mypagePage">
        <div class="mypage">
            <h2 style="font-size: 24px; font-weight: 700; margin-bottom: 24px;">마이페이지</h2>
            
            <div class="profile-card">
                <div class="profile-avatar" id="userAvatar">👤</div>
                <p class="profile-name" id="userName">무지예뽀 회원님</p>
                <p class="profile-email" id="userEmail">mujiyeppo@example.com</p>
            </div>
            
            <div class="menu-list">
                <button class="menu-btn" onclick="showPage('orderHistory')">
                    <span>주문 내역</span>
                    <svg width="16" height="16" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
                    </svg>
                </button>
                <button class="menu-btn" onclick="showPage('coupon')">
                    <span>쿠폰함</span>
                    <svg width="16" height="16" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
                    </svg>
                </button>
                <button class="menu-btn" onclick="showPage('point')">
                    <span>포인트</span>
                    <svg width="16" height="16" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
                    </svg>
                </button>
                <button class="menu-btn" onclick="showPage('support')">
                    <span>고객센터</span>
                    <svg width="16" height="16" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
                    </svg>
                </button>
                <button class="menu-btn logout" id="logoutButton" onclick="logout()" style="display: none;">
                    <span>로그아웃</span>
                    <svg width="16" height="16" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
                    </svg>
                </button>
            </div>
        </div>
    </div>

    <!-- 알림 페이지 -->
    <div class="page" id="notificationsPage">
        <div class="notifications-page">
            <h2 style="font-size: 24px; font-weight: 700; margin-bottom: 24px;">알림</h2>
            <div id="notificationsList">
                <!-- 동적으로 채워짐 -->
            </div>
        </div>
    </div>

    <!-- 장바구니 페이지 -->
    <div class="page" id="cartPage">
        <div class="cart-page">
            <h2 style="font-size: 24px; font-weight: 700; margin-bottom: 24px;">장바구니</h2>
            <div class="empty-state">
                <svg class="empty-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"/>
                </svg>
                <p class="empty-text">장바구니가 비어있습니다</p>
                <button class="primary-btn" onclick="showPage('home')">쇼핑 계속하기</button>
            </div>
        </div>
    </div>

    <!-- 주문 내역 페이지 -->
    <div class="page" id="orderHistoryPage">
        <div class="order-history-page">
            <h2 style="font-size: 24px; font-weight: 700; margin-bottom: 24px;">주문 내역</h2>
            <div id="orderHistoryContent">
                <!-- 동적으로 채워짐 -->
            </div>
        </div>
    </div>

    <!-- 쿠폰함 페이지 -->
    <div class="page" id="couponPage">
        <div class="coupon-page">
            <h2 style="font-size: 24px; font-weight: 700; margin-bottom: 24px;">쿠폰함</h2>
            <div id="couponContent">
                <!-- 동적으로 채워짐 -->
            </div>
        </div>
    </div>

    <!-- 포인트 페이지 -->
    <div class="page" id="pointPage">
        <div class="point-page">
            <h2 style="font-size: 24px; font-weight: 700; margin-bottom: 24px;">포인트</h2>
            <div id="pointContent">
                <!-- 동적으로 채워짐 -->
            </div>
        </div>
    </div>

    <!-- 고객센터 페이지 -->
    <div class="page" id="supportPage">
        <div class="support-page">
            <h2 style="font-size: 24px; font-weight: 700; margin-bottom: 24px;">고객센터</h2>
            <div id="supportContent">
                <!-- 동적으로 채워짐 -->
            </div>
        </div>
    </div>

    <!-- 모달 -->
    <div class="modal" id="productModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="modalTitle">상품 상세</h3>
                <button class="modal-close" onclick="closeModal()">
                    <svg width="20" height="20" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
                    </svg>
                </button>
            </div>
            <div class="modal-body" id="modalBody">
                <!-- 동적으로 채워짐 -->
            </div>
        </div>
    </div>

    <!-- 토스트 메시지 -->
    <div class="toast" id="toast"></div>

    <!-- 맨 위로 가기 버튼 -->
    <button class="scroll-to-top" id="scrollToTop" onclick="scrollToTop()">
        <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 10l7-7m0 0l7 7m-7-7v18"/>
        </svg>
    </button>

    <!-- 하단 네비게이션 -->
    <nav class="bottom-nav">
        <div class="nav-grid">
            <button class="nav-item active" onclick="showPage('home')">
                <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"/>
                </svg>
                <span class="nav-label">홈</span>
            </button>
            <button class="nav-item" onclick="showPage('category')">
                <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"/>
                </svg>
                <span class="nav-label">카테고리</span>
            </button>
            <button class="nav-item" onclick="showPage('search')">
                <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/>
                </svg>
                <span class="nav-label">검색</span>
            </button>
            <button class="nav-item" onclick="showPage('wishlist')">
                <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"/>
                </svg>
                <span class="nav-label">찜</span>
            </button>
            <button class="nav-item" onclick="showPage('mypage')">
                <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"/>
                </svg>
                <span class="nav-label">마이</span>
            </button>
        </div>
    </nav>

    <script>
        // 전역 변수
        let currentPage = 'home';
        let selectedCategory = '';
        let selectedSubCategory = '';
        let currentBannerIndex = 0;
        let wishlistItems = [];
        let isLoading = false;
        let products = [];
        let currentUser = null;
        let notifications = [
            { id: 1, title: '🎉 환영합니다!', content: '무지예뽀 가입을 축하드립니다.', date: '방금 전', read: false },
            { id: 2, title: '🛍️ 새로운 상품', content: '인기 상품이 입고되었습니다.', date: '1시간 전', read: false },
            { id: 3, title: '💸 특별 쿠폰', content: '회원님만을 위한 10% 할인 쿠폰!', date: '3시간 전', read: true }
        ];

        // 카테고리 데이터
        const categories = {
            '의류': ['여성의류', '남성의류', '아동의류', '스포츠웨어', '언더웨어'],
            '가방': ['핸드백', '백팩', '크로스백', '클러치', '여행가방'],
            '신발': ['운동화', '구두', '샌들', '부츠', '슬리퍼'],
            '뷰티': ['스킨케어', '메이크업', '향수', '헤어', '바디케어'],
            '주얼리': ['귀걸이', '목걸이', '반지', '팔찌', '시계']
        };

        // 초기화
        document.addEventListener('DOMContentLoaded', function() {
            // Google Sign-In 초기화
            initializeGoogleSignIn();
            
            checkLoginStatus();
            initializeProducts();
            renderProducts();
            renderCategories();
            updateNotificationDot();
            startBannerSlider();
            
            // 스크롤 이벤트
            window.addEventListener('scroll', handleScroll);
        });

        // Google Sign-In 초기화
        function initializeGoogleSignIn() {
            // Google 라이브러리가 로드되었는지 확인
            if (typeof google === 'undefined' || !google.accounts || !google.accounts.id) {
                // 라이브러리 로드 재시도
                setTimeout(initializeGoogleSignIn, 1000);
                return;
            }
            
            try {
                google.accounts.id.initialize({
                    client_id: '382989724031-1koco239agq35vcv7gfj8crr2kth8hin.apps.googleusercontent.com',
                    callback: handleCredentialResponse,
                    auto_select: false,
                    cancel_on_tap_outside: true
                });
                
                // 로그인 섹션이 표시되어 있고 로그인하지 않은 경우에만 렌더 버튼 생성
                const loginSection = document.getElementById('loginSection');
                if (loginSection && !currentUser && loginSection.style.display !== 'none') {
                    // 구글 렌더 버튼을 위한 div 생성
                    const buttonDiv = document.createElement('div');
                    buttonDiv.id = 'g_id_signin';
                    buttonDiv.className = 'g_id_signin';
                    buttonDiv.setAttribute('data-type', 'standard');
                    buttonDiv.setAttribute('data-size', 'large');
                    buttonDiv.setAttribute('data-theme', 'outline');
                    buttonDiv.setAttribute('data-text', 'continue_with');
                    buttonDiv.setAttribute('data-shape', 'pill');
                    buttonDiv.setAttribute('data-logo_alignment', 'center');
                    buttonDiv.style.marginTop = '16px';
                    buttonDiv.style.display = 'inline-block';
                    
                    // 기존 버튼 숨기기
                    const oldButton = loginSection.querySelector('.google-login-button');
                    if (oldButton) {
                        oldButton.style.display = 'none';
                    }
                    
                    // 기존 g_id_signin 요소가 있으면 제거
                    const existingButton = document.getElementById('g_id_signin');
                    if (existingButton) {
                        existingButton.remove();
                    }
                    
                    loginSection.appendChild(buttonDiv);
                    
                    // 렌더 버튼
                    google.accounts.id.renderButton(
                        document.getElementById('g_id_signin'),
                        { theme: 'outline', size: 'large', width: 250 }
                    );
                }
                
            } catch (error) {
                console.error('Google Sign-In 초기화 오류:', error);
                showGoogleLoginError('구글 로그인 초기화 중 오류가 발생했습니다.');
            }
        }

        // 구글 로그인 상태 확인
        function checkLoginStatus() {
            const savedUser = localStorage.getItem('googleUser');
            if (savedUser) {
                currentUser = JSON.parse(savedUser);
                updateUIForLoggedInUser();
            } else {
                updateUIForLoggedOutUser();
            }
        }

        // 구글 로그인 콜백 함수
        function handleCredentialResponse(response) {
            try {
                // JWT 토큰 디코딩
                const responsePayload = decodeJwtResponse(response.credential);
                
                currentUser = {
                    id: responsePayload.sub,
                    name: responsePayload.name,
                    email: responsePayload.email,
                    picture: responsePayload.picture
                };
                
                // 로컬 스토리지에 저장
                localStorage.setItem('googleUser', JSON.stringify(currentUser));
                
                // UI 업데이트
                updateUIForLoggedInUser();
                
                // 환영 알림 추가
                notifications.unshift({
                    id: Date.now(),
                    title: `🎊 ${currentUser.name}님, 환영합니다!`,
                    content: '구글 계정으로 로그인되었습니다.',
                    date: '방금 전',
                    read: false
                });
                
                renderNotifications();
                updateNotificationDot();
                
                // 에러 메시지 숨기기
                hideGoogleLoginError();
                
                showToast(`환영합니다, ${currentUser.name}님!`);
                
            } catch (error) {
                console.error('로그인 처리 오류:', error);
                showGoogleLoginError('로그인 처리 중 오류가 발생했습니다.');
            }
        }

        // JWT 토큰 디코딩 함수
        function decodeJwtResponse(token) {
            const base64Url = token.split('.')[1];
            const base64 = base64Url.replace(/-/g, '+').replace(/_/g, '/');
            const jsonPayload = decodeURIComponent(atob(base64).split('').map(function(c) {
                return '%' + ('00' + c.charCodeAt(0).toString(16)).slice(-2);
            }).join(''));
            
            return JSON.parse(jsonPayload);
        }

        // 구글 로그인 버튼 클릭
        function signInWithGoogle() {
            if (typeof google === 'undefined' || !google.accounts || !google.accounts.id) {
                showGoogleLoginError('구글 로그인이 준비되지 않았습니다. 페이지를 새로고침해주세요.');
                return;
            }
            
            try {
                // One Tap UI 표시
                google.accounts.id.prompt((notification) => {
                    if (notification.isNotDisplayed()) {
                        console.log('One Tap이 표시되지 않음:', notification.getNotDisplayedReason());
                        
                        // One Tap이 실패하면 OAuth 플로우 시도
                        if (google.accounts.oauth2) {
                            const client = google.accounts.oauth2.initTokenClient({
                                client_id: '382989724031-1koco239agq35vcv7gfj8crr2kth8hin.apps.googleusercontent.com',
                                scope: 'email profile',
                                callback: (response) => {
                                    if (response.access_token) {
                                        // 사용자 정보 가져오기
                                        fetch('https://www.googleapis.com/oauth2/v2/userinfo', {
                                            headers: {
                                                'Authorization': `Bearer ${response.access_token}`
                                            }
                                        })
                                        .then(res => res.json())
                                        .then(userInfo => {
                                            currentUser = {
                                                id: userInfo.id,
                                                name: userInfo.name,
                                                email: userInfo.email,
                                                picture: userInfo.picture
                                            };
                                            
                                            localStorage.setItem('googleUser', JSON.stringify(currentUser));
                                            updateUIForLoggedInUser();
                                            
                                            notifications.unshift({
                                                id: Date.now(),
                                                title: `🎊 ${currentUser.name}님, 환영합니다!`,
                                                content: '구글 계정으로 로그인되었습니다.',
                                                date: '방금 전',
                                                read: false
                                            });
                                            
                                            renderNotifications();
                                            updateNotificationDot();
                                            hideGoogleLoginError();
                                            showToast(`환영합니다, ${currentUser.name}님!`);
                                        })
                                        .catch(error => {
                                            console.error('사용자 정보 가져오기 실패:', error);
                                            showGoogleLoginError('사용자 정보를 가져오는데 실패했습니다.');
                                        });
                                    }
                                }
                            });
                            
                            client.requestAccessToken();
                        }
                    }
                });
            } catch (error) {
                console.error('구글 로그인 오류:', error);
                showGoogleLoginError('구글 로그인 중 오류가 발생했습니다.');
            }
        }

        // 구글 로그인 에러 표시
        function showGoogleLoginError(message) {
            const errorDiv = document.getElementById('googleLoginError');
            if (errorDiv) {
                errorDiv.textContent = message;
                errorDiv.style.display = 'block';
            }
        }

        // 구글 로그인 에러 숨기기
        function hideGoogleLoginError() {
            const errorDiv = document.getElementById('googleLoginError');
            if (errorDiv) {
                errorDiv.style.display = 'none';
            }
        }

        // 로그인 사용자 UI 업데이트
        function updateUIForLoggedInUser() {
            // 로그인 섹션 숨기기
            document.getElementById('loginSection').style.display = 'none';
            
            // 프로필 정보 업데이트
            const userAvatar = document.getElementById('userAvatar');
            const userName = document.getElementById('userName');
            const userEmail = document.getElementById('userEmail');
            
            if (currentUser.picture) {
                userAvatar.innerHTML = `<img src="${currentUser.picture}" alt="${currentUser.name}">`;
            }
            userName.textContent = currentUser.name;
            userEmail.textContent = currentUser.email;
            
            // 로그아웃 버튼 표시
            document.getElementById('logoutButton').style.display = 'flex';
            
            // 마이페이지 추가 데이터 렌더링
            renderUserData();
        }

        // 로그아웃 사용자 UI 업데이트
        function updateUIForLoggedOutUser() {
            // 로그인 섹션 표시
            document.getElementById('loginSection').style.display = 'block';
            
            // 프로필 정보 초기화
            document.getElementById('userAvatar').innerHTML = '👤';
            document.getElementById('userName').textContent = '무지예뽀 회원님';
            document.getElementById('userEmail').textContent = 'mujiyeppo@example.com';
            
            // 로그아웃 버튼 숨기기
            document.getElementById('logoutButton').style.display = 'none';
            
            // Google Sign-In 재초기화
            setTimeout(initializeGoogleSignIn, 500);
        }

        // 로그아웃
        function logout() {
            if (confirm('로그아웃 하시겠습니까?')) {
                currentUser = null;
                localStorage.removeItem('googleUser');
                
                // 구글 로그아웃
                if (google && google.accounts && google.accounts.id) {
                    google.accounts.id.disableAutoSelect();
                }
                
                // UI 업데이트
                updateUIForLoggedOutUser();
                
                // 찜 목록 초기화
                wishlistItems = [];
                renderProducts();
                
                showToast('로그아웃되었습니다');
                showPage('home');
            }
        }

        // 상품 데이터 초기화
        function initializeProducts() {
            products = [
                {
                    id: 1,
                    name: '프리미엄 레더 크로스백',
                    brand: '모던무드',
                    price: 16800,
                    originalPrice: 39900,
                    discount: 58,
                    image: 'https://via.placeholder.com/300x300/f8f8f8/333333?text=Leather+Bag',
                    rating: 4.8,
                    reviews: 523,
                    likes: 1200,
                    isNew: true,
                    category: '가방',
                    subCategory: '크로스백'
                },
                {
                    id: 2,
                    name: '미니멀 메탈 시계',
                    brand: '타임리스',
                    price: 81500,
                    originalPrice: 156000,
                    discount: 48,
                    image: 'https://via.placeholder.com/300x300/f8f8f8/333333?text=Watch',
                    rating: 4.9,
                    reviews: 892,
                    likes: 3500,
                    isNew: false,
                    category: '주얼리',
                    subCategory: '시계'
                },
                {
                    id: 3,
                    name: '블랙 벨벳 롱 원피스',
                    brand: '엘레강스',
                    price: 17900,
                    originalPrice: 27500,
                    discount: 35,
                    image: 'https://via.placeholder.com/300x300/f8f8f8/333333?text=Dress',
                    rating: 4.7,
                    reviews: 234,
                    likes: 892,
                    isNew: false,
                    category: '의류',
                    subCategory: '여성의류'
                },
                {
                    id: 4,
                    name: '925실버 체인 팔찌',
                    brand: '실버라인',
                    price: 1900,
                    originalPrice: 59900,
                    discount: 97,
                    image: 'https://via.placeholder.com/300x300/f8f8f8/333333?text=Jewelry',
                    rating: 4.6,
                    reviews: 1800,
                    likes: 5200,
                    isNew: true,
                    category: '주얼리',
                    subCategory: '팔찌'
                },
                {
                    id: 5,
                    name: '클래식 레더 로퍼',
                    brand: '슈즈마스터',
                    price: 17900,
                    originalPrice: 37300,
                    discount: 52,
                    image: 'https://via.placeholder.com/300x300/f8f8f8/333333?text=Shoes',
                    rating: 4.8,
                    reviews: 456,
                    likes: 1100,
                    isNew: false,
                    category: '신발',
                    subCategory: '구두'
                },
                {
                    id: 6,
                    name: '퓨어리파잉 클렌저',
                    brand: '클린뷰티',
                    price: 4250,
                    originalPrice: 12500,
                    discount: 66,
                    image: 'https://via.placeholder.com/300x300/f8f8f8/333333?text=Beauty',
                    rating: 4.9,
                    reviews: 2300,
                    likes: 8900,
                    isNew: false,
                    category: '뷰티',
                    subCategory: '스킨케어'
                }
            ];
        }

        // 상품 렌더링
        function renderProducts(filteredProducts = null) {
            const productGrid = document.getElementById('productGrid');
            const productsToRender = filteredProducts || products;
            
            productGrid.innerHTML = productsToRender.map(product => `
                <div class="product-card" onclick="openProduct(${product.id})">
                    <div class="product-image-container">
                        <img src="${product.image}" alt="${product.name}" class="product-image">
                        <div class="product-badges">
                            <span class="badge badge-sale">${product.discount}% OFF</span>
                            ${product.isNew ? '<span class="badge badge-new">NEW</span>' : ''}
                        </div>
                        <button class="wishlist-btn ${wishlistItems.includes(product.id) ? 'active' : ''}" onclick="event.stopPropagation(); toggleWishlist(${product.id})">
                            <svg fill="${wishlistItems.includes(product.id) ? 'currentColor' : 'none'}" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"/>
                            </svg>
                        </button>
                    </div>
                    <div class="product-info">
                        <p class="product-brand">${product.brand}</p>
                        <h4 class="product-name">${product.name}</h4>
                        <div class="product-price">
                            <span class="discount-rate">${product.discount}%</span>
                            <span class="price">${product.price.toLocaleString()}원</span>
                            <span class="original-price">${product.originalPrice.toLocaleString()}원</span>
                        </div>
                        <div class="product-stats">
                            <span class="stat-item">
                                <span class="rating">★</span> ${product.rating}
                            </span>
                            <span class="stat-item">
                                리뷰 ${product.reviews}
                            </span>
                            <span class="stat-item">
                                ♥ ${product.likes > 1000 ? (product.likes/1000).toFixed(1) + 'k' : product.likes}
                            </span>
                        </div>
                    </div>
                </div>
            `).join('');
        }

        // 페이지 전환
        function showPage(pageName) {
            // 모든 페이지 숨기기
            document.querySelectorAll('.page').forEach(page => {
                page.classList.remove('active');
            });
            
            // 선택된 페이지 표시
            const page = document.getElementById(pageName + 'Page');
            if (page) {
                page.classList.add('active');
                currentPage = pageName;
            }
            
            // 네비게이션 업데이트
            document.querySelectorAll('.nav-item').forEach(item => {
                item.classList.remove('active');
            });
            
            const pageIndex = ['home', 'category', 'search', 'wishlist', 'mypage'].indexOf(pageName);
            if (pageIndex !== -1) {
                document.querySelectorAll('.nav-item')[pageIndex].classList.add('active');
            }
            
            // 페이지별 초기화
            if (pageName === 'wishlist') {
                renderWishlist();
            } else if (pageName === 'notifications') {
                renderNotifications();
                markNotificationsAsRead();
            } else if (pageName === 'orderHistory' && currentUser) {
                renderOrderHistory();
            } else if (pageName === 'coupon' && currentUser) {
                renderCoupons();
            } else if (pageName === 'point' && currentUser) {
                renderPoints();
            } else if (pageName === 'support') {
                renderSupport();
            }
            
            // 스크롤 맨 위로
            window.scrollTo(0, 0);
        }

        // 검색 토글
        function toggleSearch() {
            const searchBar = document.getElementById('searchBar');
            searchBar.classList.toggle('show');
            
            if (searchBar.classList.contains('show')) {
                document.getElementById('headerSearchInput').focus();
            }
        }

        // 카테고리 선택
        function selectCategory(category) {
            selectedCategory = category;
            showSubCategories(category);
            filterProductsByCategory(category);
        }

        // 서브 카테고리 표시
        function showSubCategories(category) {
            const subCategoriesEl = document.getElementById('subCategories');
            const subCategoryList = document.getElementById('subCategoryList');
            
            if (categories[category]) {
                subCategoriesEl.classList.add('show');
                subCategoryList.innerHTML = `
                    <button class="sub-category-btn ${selectedSubCategory === '' ? 'active' : ''}" onclick="selectSubCategory('')">전체</button>
                    ${categories[category].map(sub => `
                        <button class="sub-category-btn ${selectedSubCategory === sub ? 'active' : ''}" onclick="selectSubCategory('${sub}')">${sub}</button>
                    `).join('')}
                `;
            } else {
                subCategoriesEl.classList.remove('show');
            }
        }

        // 서브 카테고리 선택
        function selectSubCategory(subCategory) {
            selectedSubCategory = subCategory;
            document.querySelectorAll('.sub-category-btn').forEach(btn => {
                btn.classList.remove('active');
                if (btn.textContent === subCategory || (subCategory === '' && btn.textContent === '전체')) {
                    btn.classList.add('active');
                }
            });
            filterProductsByCategory(selectedCategory, subCategory);
        }

        // 카테고리별 상품 필터링
        function filterProductsByCategory(category, subCategory = '') {
            let filtered = products;
            
            if (category) {
                filtered = filtered.filter(p => p.category === category);
            }
            
            if (subCategory) {
                filtered = filtered.filter(p => p.subCategory === subCategory);
            }
            
            renderProducts(filtered);
        }

        // 찜하기 토글
        function toggleWishlist(productId) {
            if (!currentUser) {
                showToast('로그인이 필요한 기능입니다');
                showPage('mypage');
                return;
            }
            
            const index = wishlistItems.indexOf(productId);
            if (index > -1) {
                wishlistItems.splice(index, 1);
                showToast('찜 목록에서 제거되었습니다');
            } else {
                wishlistItems.push(productId);
                showToast('찜 목록에 추가되었습니다');
            }
            
            renderProducts();
            updateWishlistBadge();
        }

        // 찜 목록 렌더링
        function renderWishlist() {
            const wishlistContent = document.getElementById('wishlistContent');
            
            if (!currentUser) {
                wishlistContent.innerHTML = `
                    <div class="empty-state">
                        <svg class="empty-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"/>
                        </svg>
                        <p class="empty-text">로그인 후 이용해주세요</p>
                        <button class="primary-btn" onclick="showPage('mypage')">로그인하기</button>
                    </div>
                `;
                return;
            }
            
            const wishlistProducts = products.filter(p => wishlistItems.includes(p.id));
            
            if (wishlistProducts.length === 0) {
                wishlistContent.innerHTML = `
                    <div class="empty-state">
                        <svg class="empty-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"/>
                        </svg>
                        <p class="empty-text">찜한 상품이 없습니다</p>
                        <button class="primary-btn" onclick="showPage('home')">상품 둘러보기</button>
                    </div>
                `;
            } else {
                wishlistContent.innerHTML = `
                    <div class="product-grid">
                        ${wishlistProducts.map(product => `
                            <div class="product-card" onclick="openProduct(${product.id})">
                                <div class="product-image-container">
                                    <img src="${product.image}" alt="${product.name}" class="product-image">
                                    <div class="product-badges">
                                        <span class="badge badge-sale">${product.discount}% OFF</span>
                                    </div>
                                    <button class="wishlist-btn active" onclick="event.stopPropagation(); toggleWishlist(${product.id})">
                                        <svg fill="currentColor" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"/>
                                        </svg>
                                    </button>
                                </div>
                                <div class="product-info">
                                    <p class="product-brand">${product.brand}</p>
                                    <h4 class="product-name">${product.name}</h4>
                                    <div class="product-price">
                                        <span class="discount-rate">${product.discount}%</span>
                                        <span class="price">${product.price.toLocaleString()}원</span>
                                    </div>
                                </div>
                            </div>
                        `).join('')}
                    </div>
                `;
            }
        }

        // 찜 배지 업데이트
        function updateWishlistBadge() {
            // 하단 네비게이션 배지 업데이트 필요시 구현
        }

        // 카테고리 페이지 렌더링
        function renderCategories() {
            const categoryList = document.getElementById('categoryList');
            
            categoryList.innerHTML = Object.keys(categories).map(category => `
                <div class="category-section">
                    <h3>${category}</h3>
                    <div class="category-sub-grid">
                        ${categories[category].map(sub => `
                            <div class="category-sub-item" onclick="selectCategoryAndGoHome('${category}', '${sub}')">${sub}</div>
                        `).join('')}
                    </div>
                </div>
            `).join('');
        }

        // 카테고리 선택 후 홈으로 이동
        function selectCategoryAndGoHome(category, subCategory) {
            selectedCategory = category;
            selectedSubCategory = subCategory;
            showPage('home');
            showSubCategories(category);
            filterProductsByCategory(category, subCategory);
        }

        // 검색 기능
        function performSearch() {
            const keyword = document.getElementById('searchPageInput').value.trim();
            if (keyword) {
                searchProducts(keyword);
            }
        }

        function performHeaderSearch() {
            const keyword = document.getElementById('headerSearchInput').value.trim();
            if (keyword) {
                showPage('search');
                document.getElementById('searchPageInput').value = keyword;
                searchProducts(keyword);
                toggleSearch();
            }
        }

        function searchByKeyword(keyword) {
            document.getElementById('searchPageInput').value = keyword;
            searchProducts(keyword);
        }

        function searchProducts(keyword) {
            const searchResultsSection = document.getElementById('searchResultsSection');
            const searchResults = document.getElementById('searchResults');
            
            searchResultsSection.classList.remove('hidden');
            searchResults.innerHTML = '<div class="search-loading"><div class="spinner"></div></div>';
            
            // 시뮬레이션된 검색 (실제로는 API 호출)
            setTimeout(() => {
                const results = products.filter(p => 
                    p.name.toLowerCase().includes(keyword.toLowerCase()) ||
                    p.brand.toLowerCase().includes(keyword.toLowerCase()) ||
                    p.category.toLowerCase().includes(keyword.toLowerCase())
                );
                
                if (results.length === 0) {
                    searchResults.innerHTML = '<div class="no-results">검색 결과가 없습니다</div>';
                } else {
                    searchResults.innerHTML = `
                        <div class="product-grid">
                            ${results.map(product => `
                                <div class="product-card" onclick="openProduct(${product.id})">
                                    <div class="product-image-container">
                                        <img src="${product.image}" alt="${product.name}" class="product-image">
                                        <div class="product-badges">
                                            <span class="badge badge-sale">${product.discount}% OFF</span>
                                        </div>
                                        <button class="wishlist-btn ${wishlistItems.includes(product.id) ? 'active' : ''}" onclick="event.stopPropagation(); toggleWishlist(${product.id})">
                                            <svg fill="${wishlistItems.includes(product.id) ? 'currentColor' : 'none'}" stroke="currentColor" viewBox="0 0 24 24">
                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"/>
                                            </svg>
                                        </button>
                                    </div>
                                    <div class="product-info">
                                        <p class="product-brand">${product.brand}</p>
                                        <h4 class="product-name">${product.name}</h4>
                                        <div class="product-price">
                                            <span class="discount-rate">${product.discount}%</span>
                                            <span class="price">${product.price.toLocaleString()}원</span>
                                        </div>
                                    </div>
                                </div>
                            `).join('')}
                        </div>
                    `;
                }
            }, 500);
        }

        function handleSearchKeyPress(event) {
            if (event.key === 'Enter') {
                performSearch();
            }
        }

        function handleHeaderSearchKeyPress(event) {
            if (event.key === 'Enter') {
                performHeaderSearch();
            }
        }

        // 배너 슬라이더
        function startBannerSlider() {
            setInterval(() => {
                currentBannerIndex = (currentBannerIndex + 1) % 3;
                updateBanner();
            }, 5000);
        }

        function setBannerIndex(index) {
            currentBannerIndex = index;
            updateBanner();
        }

        function updateBanner() {
            const bannerContainer = document.getElementById('bannerContainer');
            bannerContainer.style.transform = `translateX(-${currentBannerIndex * 100}%)`;
            
            document.querySelectorAll('.indicator').forEach((indicator, index) => {
                indicator.classList.toggle('active', index === currentBannerIndex);
            });
        }

        // 알림 관련
        function updateNotificationDot() {
            const unreadCount = notifications.filter(n => !n.read).length;
            const dot = document.getElementById('notificationDot');
            dot.style.display = unreadCount > 0 ? 'block' : 'none';
        }

        function renderNotifications() {
            const notificationsList = document.getElementById('notificationsList');
            
            notificationsList.innerHTML = notifications.map(notif => `
                <div class="notification-item ${!notif.read ? 'unread' : ''}" onclick="readNotification(${notif.id})">
                    <h4 class="notification-title">${notif.title}</h4>
                    <p class="notification-content">${notif.content}</p>
                    <p class="notification-date">${notif.date}</p>
                </div>
            `).join('');
        }

        function readNotification(id) {
            const notif = notifications.find(n => n.id === id);
            if (notif) {
                notif.read = true;
                renderNotifications();
                updateNotificationDot();
            }
        }

        function markNotificationsAsRead() {
            notifications.forEach(n => n.read = true);
            updateNotificationDot();
        }

        // 상품 상세 모달
        function openProduct(productId) {
            const product = products.find(p => p.id === productId);
            if (!product) return;
            
            document.getElementById('modalTitle').textContent = product.name;
            document.getElementById('modalBody').innerHTML = `
                <img src="${product.image}" alt="${product.name}" style="width: 100%; border-radius: 8px; margin-bottom: 16px;">
                <p style="color: #666; margin-bottom: 8px;">${product.brand}</p>
                <h3 style="font-size: 20px; margin-bottom: 16px;">${product.name}</h3>
                <div style="display: flex; align-items: baseline; gap: 12px; margin-bottom: 16px;">
                    <span style="font-size: 24px; font-weight: 700; color: #000;">${product.discount}%</span>
                    <span style="font-size: 24px; font-weight: 700;">${product.price.toLocaleString()}원</span>
                    <span style="font-size: 16px; color: #999; text-decoration: line-through;">${product.originalPrice.toLocaleString()}원</span>
                </div>
                <div style="display: flex; gap: 16px; margin-bottom: 24px; color: #666;">
                    <span>⭐ ${product.rating}</span>
                    <span>리뷰 ${product.reviews}</span>
                    <span>♥ ${product.likes}</span>
                </div>
                <button class="primary-btn" style="width: 100%; margin-bottom: 12px;" onclick="showToast('장바구니에 추가되었습니다')">장바구니 담기</button>
                <button class="primary-btn" style="width: 100%; background: #fff; color: #000; border: 2px solid #000;" onclick="showToast('구매 페이지로 이동')">바로 구매</button>
            `;
            
            document.getElementById('productModal').classList.add('show');
        }

        function closeModal() {
            document.getElementById('productModal').classList.remove('show');
        }

        // 토스트 메시지
        function showToast(message) {
            const toast = document.getElementById('toast');
            toast.textContent = message;
            toast.classList.add('show');
            
            setTimeout(() => {
                toast.classList.remove('show');
            }, 3000);
        }

        // 스크롤 이벤트
        let lastScrollTop = 0;
        function handleScroll() {
            const header = document.getElementById('header');
            const st = window.pageYOffset || document.documentElement.scrollTop;
            const scrollToTopBtn = document.getElementById('scrollToTop');
            
            // 헤더 숨김/표시
            if (st > lastScrollTop && st > 100) {
                // 스크롤 다운
                header.style.transform = 'translateY(-100%)';
            } else {
                // 스크롤 업
                header.style.transform = 'translateY(0)';
            }
            
            // 맨 위로 가기 버튼 표시/숨김
            if (st > 300) {
                scrollToTopBtn.classList.add('show');
            } else {
                scrollToTopBtn.classList.remove('show');
            }
            
            lastScrollTop = st <= 0 ? 0 : st;
            
            // 무한 스크롤
            if (window.innerHeight + window.scrollY >= document.body.offsetHeight - 1000) {
                if (currentPage === 'home' && !isLoading) {
                    loadMoreProducts();
                }
            }
        }

        // 맨 위로 가기
        function scrollToTop() {
            window.scrollTo({
                top: 0,
                behavior: 'smooth'
            });
        }

        // 더 많은 상품 로드
        function loadMoreProducts() {
            if (isLoading) return;
            
            isLoading = true;
            document.getElementById('loading').classList.remove('hidden');
            
            // 시뮬레이션된 로딩 (실제로는 API 호출)
            setTimeout(() => {
                const newProducts = [...Array(6)].map((_, i) => ({
                    id: products.length + i + 1,
                    name: `새로운 상품 ${products.length + i + 1}`,
                    brand: '브랜드',
                    price: Math.floor(Math.random() * 50000) + 10000,
                    originalPrice: Math.floor(Math.random() * 100000) + 50000,
                    discount: Math.floor(Math.random() * 50) + 30,
                    image: `https://via.placeholder.com/300x300/f8f8f8/333333?text=Product+${products.length + i + 1}`,
                    rating: (Math.random() * 2 + 3).toFixed(1),
                    reviews: Math.floor(Math.random() * 1000),
                    likes: Math.floor(Math.random() * 5000),
                    isNew: Math.random() > 0.5,
                    category: Object.keys(categories)[Math.floor(Math.random() * Object.keys(categories).length)],
                    subCategory: ''
                }));
                
                products = [...products, ...newProducts];
                renderProducts();
                
                isLoading = false;
                document.getElementById('loading').classList.add('hidden');
            }, 1000);
        }

        // 마이페이지 관련 함수들
        function renderUserData() {
            if (!currentUser) return;
            
            // 사용자별 데이터 초기화 (실제로는 API에서 가져옴)
            if (!window.userOrderHistory) {
                window.userOrderHistory = [
                    {
                        id: 'ORD001',
                        date: '2024-01-15',
                        status: 'delivered',
                        statusText: '배송완료',
                        products: [
                            {
                                name: '프리미엄 레더 크로스백',
                                price: 16800,
                                image: 'https://via.placeholder.com/60x60/f8f8f8/333333?text=Bag'
                            }
                        ],
                        total: 16800
                    },
                    {
                        id: 'ORD002',
                        date: '2024-01-20',
                        status: 'shipping',
                        statusText: '배송중',
                        products: [
                            {
                                name: '미니멀 메탈 시계',
                                price: 81500,
                                image: 'https://via.placeholder.com/60x60/f8f8f8/333333?text=Watch'
                            }
                        ],
                        total: 81500
                    }
                ];
                
                window.userCoupons = [
                    {
                        id: 1,
                        amount: '10,000원',
                        title: '신규 회원 쿠폰',
                        expiry: '2024-12-31',
                        isExpired: false
                    },
                    {
                        id: 2,
                        amount: '20%',
                        title: '생일 축하 쿠폰',
                        expiry: '2024-02-28',
                        isExpired: false
                    }
                ];
                
                window.userPoints = {
                    available: 5280,
                    history: [
                        { title: '구매 적립', amount: 1680, date: '2024-01-15', type: 'plus' },
                        { title: '이벤트 적립', amount: 3600, date: '2024-01-10', type: 'plus' }
                    ]
                };
            }
        }

        function renderOrderHistory() {
            const content = document.getElementById('orderHistoryContent');
            
            if (!window.userOrderHistory || window.userOrderHistory.length === 0) {
                content.innerHTML = `
                    <div class="empty-state">
                        <svg class="empty-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"/>
                        </svg>
                        <p class="empty-text">주문 내역이 없습니다</p>
                        <button class="primary-btn" onclick="showPage('home')">쇼핑 시작하기</button>
                    </div>
                `;
                return;
            }
            
            content.innerHTML = window.userOrderHistory.map(order => `
                <div class="order-item">
                    <div class="order-header">
                        <div>
                            <p class="order-number">주문번호: ${order.id}</p>
                            <p class="order-date">${order.date}</p>
                        </div>
                        <span class="order-status ${order.status}">${order.statusText}</span>
                    </div>
                    <div class="order-products">
                        ${order.products.map(product => `
                            <div class="order-product">
                                <img src="${product.image}" alt="${product.name}" class="order-product-image">
                                <div class="order-product-info">
                                    <p class="order-product-name">${product.name}</p>
                                    <p class="order-product-price">${product.price.toLocaleString()}원</p>
                                </div>
                            </div>
                        `).join('')}
                    </div>
                </div>
            `).join('');
        }

        function renderCoupons() {
            const content = document.getElementById('couponContent');
            
            if (!window.userCoupons || window.userCoupons.length === 0) {
                content.innerHTML = `
                    <div class="empty-state">
                        <svg class="empty-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 5v2m0 4v2m0 4v2M5 5a2 2 0 00-2 2v3a2 2 0 110 4v3a2 2 0 002 2h14a2 2 0 002-2v-3a2 2 0 110-4V7a2 2 0 00-2-2H5z"/>
                        </svg>
                        <p class="empty-text">사용 가능한 쿠폰이 없습니다</p>
                    </div>
                `;
                return;
            }
            
            content.innerHTML = window.userCoupons.map(coupon => `
                <div class="coupon-item ${coupon.isExpired ? 'expired' : ''}">
                    <p class="coupon-amount">${coupon.amount}</p>
                    <p class="coupon-title">${coupon.title}</p>
                    <p class="coupon-expiry">유효기간: ${coupon.expiry}까지</p>
                    <span class="coupon-badge">${coupon.isExpired ? '만료' : '사용가능'}</span>
                </div>
            `).join('');
        }

        function renderPoints() {
            const content = document.getElementById('pointContent');
            
            content.innerHTML = `
                <div class="point-summary">
                    <p class="point-label">사용 가능한 포인트</p>
                    <p class="point-amount">${window.userPoints.available.toLocaleString()}P</p>
                    <div class="point-buttons">
                        <button class="point-btn" onclick="showToast('포인트 사용하기')">사용하기</button>
                        <button class="point-btn" onclick="showToast('포인트 선물하기')">선물하기</button>
                    </div>
                </div>
                
                <div class="point-history">
                    <div class="point-history-header">포인트 적립/사용 내역</div>
                    ${window.userPoints.history.map(item => `
                        <div class="point-history-item">
                            <div class="point-history-info">
                                <p class="point-history-title">${item.title}</p>
                                <p class="point-history-date">${item.date}</p>
                            </div>
                            <p class="point-history-amount ${item.type}">
                                ${item.type === 'plus' ? '+' : '-'}${item.amount.toLocaleString()}P
                            </p>
                        </div>
                    `).join('')}
                </div>
            `;
        }

        function renderSupport() {
            const content = document.getElementById('supportContent');
            
            content.innerHTML = `
                <div class="support-menu">
                    <div class="support-menu-item" onclick="showToast('1:1 문의하기')">
                        <svg class="support-menu-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"/>
                        </svg>
                        <p class="support-menu-title">1:1 문의</p>
                        <p class="support-menu-desc">빠른 답변 받기</p>
                    </div>
                    <div class="support-menu-item" onclick="showToast('전화 상담 연결')">
                        <svg class="support-menu-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"/>
                        </svg>
                        <p class="support-menu-title">전화 상담</p>
                        <p class="support-menu-desc">1588-0000</p>
                    </div>
                    <div class="support-menu-item" onclick="showToast('공지사항 페이지')">
                        <svg class="support-menu-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5.882V19.24a1.76 1.76 0 01-3.417.592l-2.147-6.15M18 13a3 3 0 100-6M5.436 13.683A4.001 4.001 0 017 6h1.832c4.1 0 7.625-1.234 9.168-3v14c-1.543-1.766-5.067-3-9.168-3H7a3.988 3.988 0 01-1.564-.317z"/>
                        </svg>
                        <p class="support-menu-title">공지사항</p>
                        <p class="support-menu-desc">새로운 소식</p>
                    </div>
                    <div class="support-menu-item" onclick="showToast('이용약관 페이지')">
                        <svg class="support-menu-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/>
                        </svg>
                        <p class="support-menu-title">이용약관</p>
                        <p class="support-menu-desc">서비스 약관</p>
                    </div>
                </div>
                
                <div class="faq-section">
                    <div class="faq-header">자주 묻는 질문</div>
                    <div class="faq-item" onclick="toggleFAQ(this)">
                        <div class="faq-question">
                            <span class="faq-question-text">배송은 얼마나 걸리나요?</span>
                            <svg class="faq-arrow" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
                            </svg>
                        </div>
                        <div class="faq-answer">
                            <p class="faq-answer-text">일반 배송은 주문 후 2-3일 내에 도착합니다. 도서산간 지역은 1-2일 추가될 수 있습니다.</p>
                        </div>
                    </div>
                    <div class="faq-item" onclick="toggleFAQ(this)">
                        <div class="faq-question">
                            <span class="faq-question-text">교환/반품은 어떻게 하나요?</span>
                            <svg class="faq-arrow" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
                            </svg>
                        </div>
                        <div class="faq-answer">
                            <p class="faq-answer-text">상품 수령 후 7일 이내에 마이페이지 > 주문내역에서 신청하실 수 있습니다. 단순 변심의 경우 왕복 배송비가 부과됩니다.</p>
                        </div>
                    </div>
                    <div class="faq-item" onclick="toggleFAQ(this)">
                        <div class="faq-question">
                            <span class="faq-question-text">포인트는 어떻게 사용하나요?</span>
                            <svg class="faq-arrow" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
                            </svg>
                        </div>
                        <div class="faq-answer">
                            <p class="faq-answer-text">결제 시 포인트 사용란에서 사용하실 포인트를 입력하시면 됩니다. 1포인트는 1원으로 사용 가능합니다.</p>
                        </div>
                    </div>
                </div>
            `;
        }

        function toggleFAQ(element) {
            element.classList.toggle('active');
        }

        // 모달 외부 클릭시 닫기
        document.getElementById('productModal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeModal();
            }
        });
    </script>
</body>
</html>